<div class="shopping-list-container">
  <h1>Lista de Compras</h1>

  <form (ngSubmit)="addItem()" [formGroup]="itemForm">
    <input
      type="text"
      formControlName="itemName"
      placeholder="Adicione um item à prateleira"
      class="input-item"
    />
    <button type="submit" [disabled]="itemForm.invalid">
      {{ editingItem ? "Salvar" : "Adicionar" }}
    </button>
  </form>

  <div class="list-section">
    <h3>Prateleira</h3>
    <ul>
      <ng-container *ngFor="let item of items">
        <li *ngIf="!item.comprado" class="not-purchased">
          <span>{{ item.nome }}</span>
          <button (click)="toggleItem(item)">✔ Adicionar ao Carrinho</button>
          <button (click)="startEditing(item)">✏️ Editar</button>
          <button (click)="removeItem(item)">🗑️ Excluir</button>
        </li>
      </ng-container>
    </ul>

    <h3>Carrinho</h3>
    <ul>
      <ng-container *ngFor="let item of items">
        <li *ngIf="item.comprado" class="purchased">
          <span>{{ item.nome }}</span>
          <button (click)="toggleItem(item)">↩ Remover da Prateleira</button>
          <button (click)="startEditing(item)">✏️ Editar</button>
          <button (click)="removeItem(item)">🗑️ Excluir</button>
        </li>
      </ng-container>
    </ul>
  </div>
</div>
